{"version":3,"file":"static/js/926.120483d9.chunk.js","mappings":"oIASA,MAAMA,EAAY,IAAIC,KAAKC,aAAa,QAAS,CAC/CC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IA4CzB,EAzC4CC,IAAA,IAAAC,EAAA,IAAC,QAAEC,EAAO,QAAEC,GAASH,EAAA,OAC/DI,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iFAAgFC,UAC7FC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gGAA+FC,SAAA,EAC5GF,EAAAA,EAAAA,KAAA,UACEI,QAASL,EACTE,UAAU,8EACV,aAAW,SAAQC,SACpB,YAIDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UAC1BF,EAAAA,EAAAA,KAAA,OACEK,IAAqB,QAAlBR,EAAEC,EAAQQ,gBAAQ,IAAAT,EAAAA,EAAI,mBACzBU,IAAKT,EAAQU,KACbP,UAAU,uEACVQ,QAAQ,YAIZT,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mDAAkDC,SAAEJ,EAAQU,QAE1ER,EAAAA,EAAAA,KAAA,KAAGC,UAAU,0CAAyCC,SAAEJ,EAAQY,eAEhEP,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,kDAAiDC,SAC9DZ,EAAUqB,OAAOb,EAAQc,UAE5BT,EAAAA,EAAAA,MAAA,QAAMF,UAAU,qCAAoCC,SAAA,CAAC,UAAQJ,EAAQe,aAGvEb,EAAAA,EAAAA,KAAA,UACEI,QAASL,EACTE,UAAU,oGAAmGC,SAC9G,eAIC,C,iFC9CR,MA2BA,EA3BwCN,IAAA,IAAC,MAAEkB,EAAK,QAAEC,GAASnB,EAAA,OACzDI,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,SACpCY,EAAME,KAAI,CAACC,EAAOC,KACjBf,EAAAA,EAAAA,MAACgB,EAAAA,SAAc,CAAAjB,SAAA,EACbC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,EACzCF,EAAAA,EAAAA,KAAA,OACEC,UAAS,yFAAAmB,OAELF,GAAKH,EAAU,yBAA2B,4BAA2B,kBACvEb,SAEDgB,EAAI,KAEPlB,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAAcC,SAAEe,OAEjCC,EAAIJ,EAAMO,OAAS,IAClBrB,EAAAA,EAAAA,KAAA,OACEC,UAAS,qBAAAmB,OACPF,EAAIH,EAAU,cAAgB,mBAfjBG,MAqBnB,E,sBC1BR,MAGMI,EAAoB,IAAI/B,KAAKC,aAAa,QAAS,CACvDC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IAqGzB,EA9FgDC,IAAiB,IAAhB,OAAE2B,GAAQ3B,EACzD,MAAO4B,EAAUC,IAAeC,EAAAA,EAAAA,WAAS,GACnCC,GAAOC,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEC,SAASH,OAChDI,GAAYH,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEG,KAAKC,QACjDC,GAAYN,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEK,SAASD,QAErDE,EAAUJ,EAAUf,KAAIoB,IAC5B,MAAMtC,EAAUoC,EAASG,MAAKC,GAAKA,EAAEC,KAAOH,EAAGI,YAC/C,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYL,GAAE,IAAEtC,WAAO,IAGzB,GAAuB,IAAnBqC,EAAQd,OACV,OAAOrB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iCAAgCC,SAAC,iCAGvD,MAIMwC,EAJWP,EAAQQ,QACvB,CAACC,EAAGC,KAAA,IAAE,QAAE/C,EAAO,SAAEgD,GAAUD,EAAA,OAAKD,EAAM9C,EAAQc,MAAQkC,CAAQ,GAC9D,GA9Ba,IACI,IAiCnB,OACE3C,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iIAAgIC,SAAA,EAC7IF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,4CAA2CC,SAAC,0BAI1DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wCAAuCC,SAAA,CACnDiC,EAAQnB,KAAI+B,IAAA,IAAC,QAAEjD,EAAO,SAAEgD,GAAUC,EAAA,OACjC5C,EAAAA,EAAAA,MAAA,OAEEF,UAAU,iDAAgDC,SAAA,EAE1DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAqBC,SAAEJ,EAAQU,QAC5CL,EAAAA,EAAAA,MAAA,KAAGF,UAAU,6BAA4BC,SAAA,CACtC4C,EAAS,SAAIxB,EAAkBX,OAAOb,EAAQc,cAGnDZ,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SACjCoB,EAAkBX,OAAOb,EAAQc,MAAQkC,OAVvChD,EAAQyC,GAYT,KAGRpC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+CAA8CC,SAAA,EAC3DF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,iBACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OA5DlB,WA8DTR,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+CAA8CC,SAAA,EAC3DF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,cACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OA/Dd,cAmEfR,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2EAA0EC,SAAA,EACvFF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,WACNF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAO+B,QAGxB,IAATf,IACCxB,EAAAA,EAAAA,MAAA6C,EAAAA,SAAA,CAAA9C,SAAA,EACEC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,gCAA+BC,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,SACEiD,KAAK,WACLhD,UAAU,OACViD,QAAS1B,EACT2B,SAAUA,IAAM1B,GAAY2B,IAAMA,OAEpCjD,EAAAA,EAAAA,MAAA,QAAMF,UAAU,wBAAuBC,SAAA,CAAC,aAC3B,KACXF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,0BAAyBC,SAAC,8BAEnC,WAIbF,EAAAA,EAAAA,KAAA,UACEI,QAASmB,EACT8B,UAAW7B,EACXvB,UAAS,kEAAAmB,OACPI,EACI,gCACA,kCACHtB,SACJ,+CAKD,E,wCC1GH,MAAMoD,EAAiBC,EAAAA,GAAW,CACvCC,QAAgBD,EAAAA,KAAaE,SAAS,qBACtCC,UAAgBH,EAAAA,KAAaE,SAAS,oBACtCE,SAAgBJ,EAAAA,KAAaE,SAAS,sBACtCG,eAAgBL,EAAAA,KAAaE,SAAS,0BACtCI,MAAON,EAAAA,KAAaE,SAAS,gCAC7BK,SAAgBP,EAAAA,KAAaE,SAAS,0BACtCM,SAAgBR,EAAAA,KAChBS,KAAgBT,EAAAA,KAAaE,SAAS,oBACtCQ,MAAgBV,EAAAA,KAAaE,SAAS,oBACtCS,WAAgBX,EAAAA,KAChBY,MAAgBZ,EAAAA,KAAaE,SAAS,yBACtCW,SAAgBb,EAAAA,KAChBc,cAAgBd,EAAAA,OACfE,WCHGa,GDKuBhB,EAAelC,OAC1CmC,EAAAA,GAAW,CACTgB,WAAYhB,EAAAA,KAETE,SAAS,kCACTe,QAAQ,cAAe,4BAC1BC,SAAUlB,EAAAA,KAEPE,SAAS,iBACTe,QAAQ,oBAAqB,gCAChCE,QAASnB,EAAAA,KAENE,SAAS,oBACTe,QAAQ,aAAc,6BACzBG,IAAKpB,EAAAA,KAEFE,SAAS,iBACTe,QAAQ,aAAc,8BCtBX,CAAC,WAAY,YAAU,cACnCI,EAAS,CAAC,YAAa,eAAgB,mBAwK7C,EAtKsChF,IAAyB,IAAxB,OAAEiF,EAAM,OAAEtD,GAAQ3B,EACvD,MAAMkF,GAAWC,EAAAA,EAAAA,OAEX,SACJC,EAAQ,aACRC,EACAC,WAAW,OAAEC,EAAM,aAAEC,KACnBC,EAAAA,EAAAA,IAA0B,CAC5BC,UAAUC,EAAAA,EAAAA,GAAYjC,GACtBkC,KAAM,WASR,OACErF,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAC,kCACnCC,EAAAA,EAAAA,MAAA,QAAMsF,SAAUR,GAT+BS,IAEjDZ,GAASa,EAAAA,EAAAA,GAAgBD,IACzBnE,GAAQ,IAMkCtB,UAAU,YAAWC,SAAA,EAG3DC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,2BAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEQ,KAAK,SACD+B,EAAS,UAAQ,IACrBY,YAAY,qBACZ3F,UAAU,8EAEXkF,EAAOtB,QAAS7D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOtB,MAAMgC,cAI1E1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,yBAC7CC,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,YAAU,IACvB/E,UAAU,2EAA0EC,SAAA,EAEpFF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,eAChBoE,EAAUtD,KAAI+E,IAAK/F,EAAAA,EAAAA,KAAA,UAAgB8F,MAAOC,EAAE7F,SAAE6F,GAAdA,SAElCZ,EAAO3B,UAAWxD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAO3B,QAAQqC,cAI9E1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,YAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,cAAY,IACzBY,YAAY,OACZ3F,UAAU,8EAEXkF,EAAOzB,YAAa1D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOzB,UAAUmC,cAElF1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,eAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,aAAW,IACxBY,YAAY,WACZ3F,UAAU,8EAEXkF,EAAOxB,WAAY3D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOxB,SAASkC,iBAKlF1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,sBAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,mBAAiB,IAC9BY,YAAY,YACZ3F,UAAU,8EAEXkF,EAAOvB,iBAAkB5D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOvB,eAAeiC,cAI5F1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,kBAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,aAAW,IACxBY,YAAY,mBACZ3F,UAAU,8EAEXkF,EAAOrB,WAAY9D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOrB,SAAS+B,cAEhF1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,iCAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,aAAW,IACxBY,YAAY,WACZ3F,UAAU,kFAKdE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,YAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,SAAO,IACpBY,YAAY,cACZ3F,UAAU,8EAEXkF,EAAOnB,OAAQhE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOnB,KAAK6B,cAExE1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,wBAC7CC,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,UAAQ,IACrB/E,UAAU,2EAA0EC,SAAA,EAEpFF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,eAChB0E,EAAO5D,KAAIa,IAAK7B,EAAAA,EAAAA,KAAA,UAAgB8F,MAAOjE,EAAE3B,SAAE2B,GAAdA,SAE/BsD,EAAOlB,QAASjE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOlB,MAAM4B,cAE1E1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,iCAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,eAAa,IAC1BY,YAAY,SACZ3F,UAAU,qFAMhBE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SAAC,iBAC7CF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMuC,EAAS,UAAQ,IACrBY,YAAY,iBACZ3F,UAAU,8EAEXkF,EAAOhB,QAASnE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOhB,MAAM0B,cAK1E1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,UACEiD,KAAK,SACL7C,QAASyE,EACT5E,UAAU,8EAA6EC,SACxF,qBAGDF,EAAAA,EAAAA,KAAA,UACEiD,KAAK,SACLI,SAAU+B,EACVnF,UAAU,+FAA8FC,SACzG,6BAKD,E,aClIV,MACA,EAAe,IAA0B,+DCCzC,MACA,EAAe,IAA0B,yDCjBzC,MACA,EAAe,IAA0B,oE,QCvBf,IAAIX,KAAKC,aAAa,QAAS,CACvDC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IAHzB,MAMMqG,EAAWC,OAAqC,QAA/BC,EAACC,QAA8BD,EAAI,KACpDE,EAAeH,OAAyC,QAAnCI,EAACF,QAAkCE,EAAI,KAG5DC,EAAS/C,EAAAA,GAAW,CACxBgB,WAAYhB,EAAAA,KAAaE,SAAS,kCAA+Be,QAAQ,cAAe,4BACxFC,SAAUlB,EAAAA,KAAaE,SAAS,iBAChCiB,QAASnB,EAAAA,KAAaE,SAAS,oBAC/BkB,IAAKpB,EAAAA,KAAaE,SAAS,iBAAiBe,QAAQ,eAAgB,oBACpEhE,KAAM+C,EAAAA,KAAaE,SAAS,+BAC5B8C,OAAQhD,EAAAA,KAAaE,SAAS,+BAC9B+C,SAAUjD,EAAAA,KAAaE,SAAS,oCAChCgD,aAAclD,EAAAA,KAAaE,SAAS,yCACpCiD,YAAanD,EAAAA,KAAcoD,MAAM,EAAC,GAAO,+BACzCC,WAAYrD,EAAAA,KAAcoD,MAAM,EAAC,GAAO,0CACvClD,WAYGoD,EAASC,MAAMC,KAAK,CAAE1F,OAAQ,KAAM,CAAC2F,EAAG9F,KAAOA,EAAI,GAAG+F,WAAWC,SAAS,EAAG,OAC7EC,GAAc,IAAIC,MAAOC,cACzBC,EAAQR,MAAMC,KAAK,CAAE1F,OAAQ,KAAM,CAAC2F,EAAG9F,KAAOiG,EAAcjG,GAAG+F,WAAWM,OAAO,KAKjFC,EAA2BA,KAC/BxH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6EAA4EC,UACzFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAqCwH,QAAQ,YAAWvH,SAAA,EACrEF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,aAAayH,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,OAAO,eAAeC,YAAY,OACxF9H,EAAAA,EAAAA,KAAA,QAAMC,UAAU,aAAa8H,KAAK,eAAeC,EAAE,+BAErDhI,EAAAA,EAAAA,KAAA,QAAAE,SAAM,4BAKN+H,EAAqErI,IAAyB,IAAxB,OAAEiF,EAAM,OAAEtD,GAAQ3B,EAC5F,MAAM,cAAEsI,EAAa,QAAEzH,GC3BC0H,MACxB,MAAMrD,GAAWC,EAAAA,EAAAA,OACVtE,EAAS2H,IAAc1G,EAAAA,EAAAA,WAAS,IAChC2G,EAAOC,IAAY5G,EAAAA,EAAAA,UAAwB,MAwElD,MAAO,CAAEwG,cAtEaK,UACpB,IACED,EAAS,MACTF,GAAW,GACXtD,GAAS0D,EAAAA,EAAAA,OAGT,MAAMC,QAAoBC,MAAM,GAADtH,OAC1B+E,4BAAiC,cACpC,CACEwC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBvI,KAAMkF,EAAKlF,KACXwI,QAAStD,EAAKsD,QACdnF,MAAO6B,EAAK7B,MACZoF,aAAcvD,EAAKuD,aACnBrF,eAAgB8B,EAAK9B,mBAIrBsF,QAAiBT,EAAYU,OAE7BC,QAAmBV,MAAM,GAADtH,OACzB+E,4BAAiC,aACpC,CACEwC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBM,WAAYH,EAAS3G,GACrB+G,cAAe5D,EAAK7B,MACpB0F,cAAe7D,EAAK6D,cAEpBhF,WAAYmB,EAAKnB,WACjBI,IAAKe,EAAKf,IACVF,SAAUiB,EAAKjB,SACfC,QAASgB,EAAKhB,QACdlE,KAAMkF,EAAKlF,KAEXyI,aAAcvD,EAAKuD,aACnBrF,eAAgB8B,EAAK9B,eACrB6C,aAAcf,EAAKe,aAEnBvE,SAAUwD,EAAKxD,SACfsH,aAAc9D,EAAK8D,iBAKzB,IAAKJ,EAAWK,GAAI,CAAC,IAADC,EAAAC,EAClB,MAAMC,QAAgBR,EAAWD,OAC3BU,EAAsB,QAAlBH,EAAGE,EAAQzH,eAAO,IAAAuH,GAAO,QAAPC,EAAfD,EAAiBrB,aAAK,IAAAsB,OAAP,EAAfA,EAAwBG,SAC/BC,EAAUF,EACZG,OAAOC,OAAOJ,GAAMK,OAAOC,KAAK,MAChCP,EAAQ/D,SAAW,oBACvB,MAAM,IAAIuE,MAAML,EAClB,CAEA,MAAMM,QAAgBjB,EAAWD,OAEjC,OADArE,GAASwF,EAAAA,EAAAA,GAAsB,CAAE/H,GAAI8H,EAAQE,kBACtC,CACT,CAAE,MAAOC,GAGP,OAFA1F,GAAS2F,EAAAA,EAAAA,IAAqB,CAAE5E,QAAS2E,EAAI3E,WAC7CyC,EAASkC,EAAI3E,UACN,CACT,CAAC,QACCuC,GAAW,EACb,GAGsB3H,UAAS4H,QAAO,EDhDLF,GAC7Be,GAAWtH,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEqH,YAC3C,SACJpF,EAAQ,SACRC,EAAQ,KACRC,EACAC,MAAOyG,EAAM,WACbxG,EAAU,QACVV,EAAO,MACPW,EAAK,MACLN,EAAK,UACLH,EAAS,SACTC,GACEuF,EAEEM,EAAe,CACnBmB,aAAc7G,EACd8G,aAAc7G,EACdC,OACAC,MAAOyG,EACPxG,WAAYA,GAAc,GAC1BV,UACAW,SAGIpC,GAAYH,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEG,KAAKC,QACjDC,GAAWN,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEK,SAASD,QAE1D,IAAKF,EAAUV,OAAQ,MAAM,IAAI+I,MAAM,oBAEvC,MAAMS,EAAmB9I,EACtBf,KAAIoB,IACH,MAAM0I,EAAO5I,EAASG,MAAKC,GAAKA,EAAEC,KAAOH,EAAGI,YAC5C,OAAOsI,EAAO,CAAEvI,GAAIuI,EAAKvI,GAAI3B,MAAOkK,EAAKlK,MAAOkC,SAAUV,EAAGU,UAAa,IAAI,IAE/EiI,OAAOC,SAIJzB,EAA+B,KAFpBsB,EAAiBlI,QAAO,CAACC,EAAKqI,IAAOrI,EAAMqI,EAAGrK,MAAQqK,EAAGnI,UAAU,GACpDkD,EAAWI,GAGrC8E,GAAe3F,EAAAA,EAAAA,GAAYe,IAC3B,QAAE6E,EAAO,SAAEnG,EAAQ,aAAEC,EAAY,MAAEmG,EAAOlG,WAAW,OAAEC,KAC3DE,EAAAA,EAAAA,IAAkB,CAChBC,SAAU4F,EACVG,cAAe,CACb9G,WAAY,GACZE,SAAU,GACVC,QAAS,GACTC,IAAK,GACLnE,KAAM,GACN+F,OAAQ,GACRC,SAAU,GACVC,aAAc,GACdC,aAAa,EACbE,YAAY,KAOZ0E,GAHuBrF,OAAOmF,EAAM,iBAG1BA,EAAM,eAChBG,EAzFF,KAAKC,KADUC,EA0FOH,GAzFC,OACvB,UAAUE,KAAKC,GAAa,aAC5B,SAASD,KAAKC,GAAa,OACxB,KAJYA,OA4FnBC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAYC,IACZnL,IACFmL,EAAEC,iBACFD,EAAEE,YAAc,GAClB,EAGF,OADAC,OAAOC,iBAAiB,eAAgBL,GACjC,IAAMI,OAAOE,oBAAoB,eAAgBN,EAAS,GAChE,CAAClL,IAEJ,MAiBMyL,EAAaC,GAAU,0BAAA/K,OACDmK,IAAUY,EAAK,cAAgB,cAE3D,OACEhM,EAAAA,EAAAA,MAAA6C,EAAAA,SAAA,CAAA9C,SAAA,CACGO,IAAWT,EAAAA,EAAAA,KAACwH,EAAc,KAC3BxH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6DAA4DC,UACzEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAC,mBAErCC,EAAAA,EAAAA,MAAA,QAAMsF,SAAUR,GA1BsBS,GACxCwC,EAAc,CACZ3D,WAAYmB,EAAKnB,WACjBE,SAAUiB,EAAKjB,SACfC,QAASgB,EAAKhB,QACdC,IAAKe,EAAKf,IACVnE,KAAMkF,EAAKlF,KACXwI,QAASE,EAASpF,SAClBD,MAAOqF,EAASrF,MAChB0F,gBACArH,SAAU2I,EAAiB7J,KAAIiK,IAAE,CAAOzI,UAAWyI,EAAG1I,GAAIO,SAAUmI,EAAGnI,aACvEmG,aAAcvD,EAAKa,OACnB3C,eAAgB8B,EAAKc,SACrBC,aAAcR,OAAOP,EAAKe,cAC1B+C,iBACC4C,QAAQ7K,KAW+BtB,UAAU,YAAWC,SAAA,EAC3DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iCAAgCC,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,OAAKK,IAAKgM,EAAU9L,IAAI,OAAON,UAAWiM,EAAU,WACpDlM,EAAAA,EAAAA,KAAA,OAAKK,IAAKiM,EAAgB/L,IAAI,aAAaN,UAAWiM,EAAU,iBAChElM,EAAAA,EAAAA,KAAA,OAAKK,IAAKkM,EAAUhM,IAAI,OAAON,UAAWiM,EAAU,cAGtDlM,EAAAA,EAAAA,KAACwM,EAAAA,GAAU,CACThM,KAAK,aACL2K,QAASA,EACTsB,OAAQ5J,IAA6C,IAAD6J,EAAA,IAAzCC,OAAO,MAAE7G,EAAK,SAAE3C,EAAQ,OAAEyJ,IAAU/J,EAC7C,MACMgK,GAA8B,QAApBH,EADJ5G,EAAMgH,QAAQ,MAAO,IAAIvF,MAAM,EAAG,IAC1BwF,MAAM,kBAAU,IAAAL,OAAA,EAApBA,EAAsBvC,KAAK,OAAQ,GACnD,OACEhK,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,aAAa/M,UAAU,iCAAgCC,SAAC,0BAGvEF,EAAAA,EAAAA,KAAA,SACEuC,GAAG,aACH0K,UAAU,UACVC,aAAa,YACbtH,YAAY,sGACZE,MAAO+G,EACP1J,SAAUyI,GAAKzI,EAASyI,EAAEuB,cAAcrH,MAAMgH,QAAQ,OAAQ,KAC9DF,OAAQA,EACR3M,UAAU,2FAEXkF,EAAOZ,aACNvE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOZ,WAAWsB,YAE1D,KAKZ1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wCAAuCC,SAAA,EACpDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAgCC,SAAC,SAClDF,EAAAA,EAAAA,KAACwM,EAAAA,GAAU,CACThM,KAAK,WACL2K,QAASA,EACTsB,OAAQ1J,IAAA,IAAC,MAAE4J,GAAO5J,EAAA,OAChB5C,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMkK,GAAK,IACTO,aAAa,eACbjN,UAAU,sEAAqEC,SAAA,EAE/EF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,QAChB2G,EAAO7F,KAAIoM,IAAKpN,EAAAA,EAAAA,KAAA,UAAgB8F,MAAOsH,EAAElN,SAAEkN,GAAdA,QACvB,IAGZjI,EAAOV,WAAYzE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOV,SAASoB,cAEhF1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,iCAAgCC,SAAC,YAClDF,EAAAA,EAAAA,KAACwM,EAAAA,GAAU,CACThM,KAAK,UACL2K,QAASA,EACTsB,OAAQY,IAAA,IAAC,MAAEV,GAAOU,EAAA,OAChBlN,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMkK,GAAK,IACTO,aAAa,cACbjN,UAAU,sEAAqEC,SAAA,EAE/EF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,WAChBoH,EAAMtG,KAAIsM,IAAKtN,EAAAA,EAAAA,KAAA,UAAgB8F,MAAOwH,EAAEpN,SAAEoN,GAAdA,QACtB,IAGZnI,EAAOT,UAAW1E,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOT,QAAQmB,cAE9E1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAClCC,EAAAA,EAAAA,MAAA,SAAO6M,QAAQ,MAAM/M,UAAU,iCAAgCC,SAAA,CAAC,OAE9DF,EAAAA,EAAAA,KAAA,QAAMuN,MAAM,oCAAiCtN,UAAU,iCAAgCC,SAAC,UAE1FF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEF,GAAG,MACHU,KAAK,WACLgK,UAAU,UACVC,aAAa,SACbM,UAAW,GACPxI,EAAS,QAAM,IACnB/E,UAAU,4FAEXkF,EAAOR,MAAO3E,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOR,IAAIkB,iBAIxE1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EAErCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,OAAO/M,UAAU,iCAAgCC,SAAC,uBAGjEF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEF,GAAG,OACHqD,YAAY,aACZsH,aAAa,WACTlI,EAAS,SAAO,IACpB/E,UAAU,sGAEXkF,EAAO3E,OAAQR,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAO3E,KAAKqF,cAIxE1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,SAAS/M,UAAU,iCAAgCC,SAAC,eAGnEF,EAAAA,EAAAA,KAACwM,EAAAA,GAAU,CACThM,KAAK,SACL2K,QAASA,EACTsB,OAAQgB,IAAA,IAAC,MAAEd,GAAOc,EAAA,OAChBtN,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMkK,GAAK,IACT1M,UAAU,sEAAqEC,SAAA,EAE/EF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,gBACjBF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,KAAI5F,SAAC,6BACnBF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,KAAI5F,SAAC,8BACnBF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,KAAI5F,SAAC,yBACZ,IAGZiF,EAAOoB,SAAUvG,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOoB,OAAOV,cAI5E1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,WAAW/M,UAAU,iCAAgCC,SAAC,oBAGrEF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACEF,GAAG,WACH2K,aAAa,aACTlI,EAAS,aAAW,IACxB/E,UAAU,sGAEXkF,EAAOqB,WAAYxG,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEiF,EAAOqB,SAASX,iBAKlF1F,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,eAAe/M,UAAU,iCAAgCC,SAAC,YAGzEF,EAAAA,EAAAA,KAACwM,EAAAA,GAAU,CACThM,KAAK,eACL2K,QAASA,EACTsB,OAAQiB,IAAA,IAAC,MAAEf,GAAOe,EAAA,OAChBvN,EAAAA,EAAAA,MAAA,UAAAsC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACMkK,GAAK,IACTpK,GAAG,eACHtC,UAAU,sEAAqEC,SAAA,EAE/EF,EAAAA,EAAAA,KAAA,UAAQ8F,MAAM,GAAE5F,SAAC,eAChB4G,MAAMC,KAAK,CAAE1F,OAAQ,KAAM,CAAC2F,EAAG9F,KAAOA,EAAI,GAAG+F,aAAYjG,KAAI2M,IAC5D3N,EAAAA,EAAAA,KAAA,UAAgB8F,MAAO6H,EAAEzN,SAAEyN,GAAdA,QAER,IAGZxI,EAAOsB,eACNzG,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SACrCiF,EAAOsB,aAAaZ,cAU3B1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAAOF,GAAG,cAAcU,KAAK,YAAe+B,EAAS,gBAAc,IAAE/E,UAAU,WAC/ED,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,cAAc/M,UAAU,UAASC,SAAC,4BAElDiF,EAAOuB,cAAe1G,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAsBC,SAAEiF,EAAOuB,YAAYb,WAC/E1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,SAAAyC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAAOF,GAAG,aAAaU,KAAK,YAAe+B,EAAS,eAAa,IAAE/E,UAAU,WAC7ED,EAAAA,EAAAA,KAAA,SAAOgN,QAAQ,aAAa/M,UAAU,UAASC,SAAC,kCAEjDiF,EAAOyB,aAAc5G,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAsBC,SAAEiF,EAAOyB,WAAWf,cAG/E1F,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,UACEiD,KAAK,SACL7C,QAASyE,EACT5E,UAAU,gDAA+CC,SAC1D,mBAGDF,EAAAA,EAAAA,KAAA,UACEiD,KAAK,SACLI,SAAU5C,EACVR,UAAU,4GAA2GC,SAEpHO,EAAU,gBAAkB,yCAIlC,EAIP,EAAeU,EAAAA,KAAW8G,GEtXpB3G,EAAoB,IAAI/B,KAAKC,aAAa,QAAS,CACvDC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IA0FzB,EAhF2CC,IAAoB,IAAnB,UAAEgO,GAAWhO,EACvD,MAAM,cAAE2K,EAAesD,OAAQC,IAAalM,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEkM,cACtE7E,GAAWtH,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEqH,WAC3CnH,GAAYH,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEG,KAAKC,QACjDC,GAAWN,EAAAA,EAAAA,KAAaC,GAAiBA,EAAEK,SAASD,QAEpD4I,EAAmB9I,EAAUf,KAAIoB,IACrC,MAAM0I,EAAO5I,EAASG,MAAKC,GAAKA,EAAEC,KAAOH,EAAGI,YAC5C,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYL,GAAE,IAAEtC,QAASgL,GAAI,IAGzBkD,EAAWnD,EAAiBlI,QAChC,CAACC,EAAGC,KAAA,IAAE,QAAE/C,EAAO,SAAEgD,GAAUD,EAAA,OAAKD,EAAM9C,EAAQc,MAAQkC,CAAQ,GAC9D,GAEImL,EAAUhI,OAAOE,SAAmC,IACpD+H,EAAcjI,OAAOE,SAAuC,IAC5DzD,EAAQsL,EAAWC,EAAUC,EAE7BC,EAAyB,YAAbL,EACZM,EAAcD,EAAY,WAAa,UAE7C,OACEnO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gEAA+DC,UAC5EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qEAAoEC,SAAA,EACjFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kDAAiDC,SAAC,yBAEhEC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,2BAA0BC,SAAA,CAAC,YAC9BF,EAAAA,EAAAA,KAAA,QAAMC,UAAS,iBAAAmB,OAAmB+M,EAAY,iBAAmB,gBAAiBjO,SAAEkO,QAG9FjO,EAAAA,EAAAA,MAAA,KAAGF,UAAU,wCAAuCC,SAAA,CAAC,qBACnC,KAChBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gCAA+BC,SAAEqK,QAGnDpK,EAAAA,EAAAA,MAAA,WAASF,UAAU,OAAMC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,6BACvDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2BAA0BC,SACrC2K,EAAiB7J,KAAI+B,IAAA,IAAC,QAAEjD,EAAO,SAAEgD,GAAUC,EAAA,OAC1C5C,EAAAA,EAAAA,MAAA,MAAqBF,UAAU,iDAAgDC,SAAA,EAC7EC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOJ,EAAQU,KAAK,SAAIsC,MACxB9C,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAOb,EAAQc,MAAQkC,OAFzChD,EAAQyC,GAGZ,UAKXpC,EAAAA,EAAAA,MAAA,WAASF,UAAU,oDAAmDC,SAAA,EACpEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EAACF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,cAAeF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAOqN,SAC3F7N,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EAACF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,iBAAkBF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAOsN,SAC9F9N,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EAACF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,cAAYF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAOuN,SACxF/N,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EAACF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,WAAYF,EAAAA,EAAAA,KAAA,QAAAE,SAAOoB,EAAkBX,OAAO+B,YAG5GvC,EAAAA,EAAAA,MAAA,WAASF,UAAU,4BAA2BC,SAAA,EAC5CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SAAC,uBACvDC,EAAAA,EAAAA,MAAA,WAASF,UAAU,uBAAsBC,SAAA,EACvCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,CAAMgJ,EAASxF,UAAU,IAAEwF,EAASvF,aACpCxD,EAAAA,EAAAA,MAAA,OAAAD,SAAA,CACGgJ,EAASpF,SACToF,EAASnF,SAAQ,KAAA3C,OAAQ8H,EAASnF,UAAa,OAElD5D,EAAAA,EAAAA,MAAA,OAAAD,SAAA,CAAMgJ,EAASlF,KAAK,KAAGkF,EAASjF,MAAM,IAAEiF,EAAShF,eACjDlE,EAAAA,EAAAA,KAAA,OAAAE,SAAMgJ,EAAS1F,UACd0F,EAAS/E,QAAShE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,CAAK,QAAMgJ,EAAS/E,gBAI3CnE,EAAAA,EAAAA,KAAA,UACEI,QAASwN,EACT3N,UAAU,sHAAqHC,SAChI,kBAIC,E,qBChFV,MAAMmO,EAAS,CAAC,UAAW,UAAW,OAAQ,aAkH9C,EAhH+BC,KAC7B,MAAMxJ,GAAWC,EAAAA,EAAAA,MACXwJ,GAAWC,EAAAA,EAAAA,MACX7M,GAAOC,EAAAA,EAAAA,KAAaqC,GAAqBA,EAAMnC,SAASH,OACxDI,GAAYH,EAAAA,EAAAA,KAAaqC,GAAqBA,EAAMjC,KAAKC,QACzDC,GAAWN,EAAAA,EAAAA,KAAaqC,GAAqBA,EAAM/B,SAASD,SAC3DwM,EAAeC,IAAoBhN,EAAAA,EAAAA,UAAwB,OAC3DiN,EAAYC,IAAiBlN,EAAAA,EAAAA,UAAkB,IAATC,GAa7C,IAXA+J,EAAAA,EAAAA,YAAU,MACH3J,EAAUV,QAAUM,EAAO,IAC9BmD,GAAS+J,EAAAA,EAAAA,GAAgB,IACzBN,EAAS,IAAK,CAAEzB,SAAS,IAC3B,GACC,CAAC/K,EAAUV,OAAQM,EAAMmD,EAAUyJ,KAEtC7C,EAAAA,EAAAA,YAAU,KACRkD,EAAuB,IAATjN,EAAW,GACxB,CAACA,KAECI,EAAUV,OAAQ,OAAO,KAE9B,MAAMyN,EAAQnB,GAAc7I,GAAS+J,EAAAA,EAAAA,GAAgBlB,IAO/CoB,EAAwB,IAATpN,GAAuB,IAATA,EAEnC,OACExB,EAAAA,EAAAA,MAAA,WAASF,UAAS,8BAAAmB,OAAgC2N,EAAe,+BAAiC,IAAK7O,SAAA,EAErGC,EAAAA,EAAAA,MAAA,OAAKF,UAAW8O,EAAe,qBAAuB,GAAG7O,SAAA,EACvDF,EAAAA,EAAAA,KAACgP,EAAO,CAAClO,MAAOuN,EAAQtN,QAASY,EAAO,IAG9B,IAATA,IACCxB,EAAAA,EAAAA,MAAA6C,EAAAA,SAAA,CAAA9C,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,SACjC6B,EAAUf,KAAIpB,IAA8B,IAA7B,UAAE4C,EAAS,SAAEM,GAAUlD,EACrC,MAAME,EAAUoC,EAASG,MAAKC,GAAKA,EAAEC,KAAOC,IAC5C,OACErC,EAAAA,EAAAA,MAAA,OAAqBF,UAAU,0BAAyBC,SAAA,EACtDF,EAAAA,EAAAA,KAAA,OACEK,IAAKP,EAAQQ,SACbC,IAAKT,EAAQU,KACbP,UAAU,mDACVG,QAASA,IAAMsO,EAAiBlM,MAElCrC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAEJ,EAAQU,QAC/CL,EAAAA,EAAAA,MAAA,KAAGF,UAAU,wBAAuBC,SAAA,CACjC4C,EAAS,SAAIhD,EAAQc,MAAMqO,eAAe,QAAS,CAAExP,MAAO,WAAYC,SAAU,MAAOC,sBAAuB,YAV7G6C,EAaJ,MAMXiM,IACCzO,EAAAA,EAAAA,KAACkP,EAAAA,EAAkB,CACjBpP,QAASoC,EAASG,MAAKC,GAAKA,EAAEC,KAAOkM,IACrC1O,QAASA,IAAM2O,EAAiB,SAKpCvO,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,CAC5ByB,GAAQ,GAAKA,GAAQ,IACpBxB,EAAAA,EAAAA,MAAA,UACEC,QAASA,IAAMwO,GAAcO,IAAMA,IACnClP,UAAU,2EAA0EC,SAAA,EAEpFF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAC,0BAC9BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,UAASC,SAAEyO,EAAa,IAAM,UAGvC,IAAThN,GAAcgN,KAAe3O,EAAAA,EAAAA,KAACoP,EAAW,CAAC7N,OAAQA,IAAMuN,EAAKnN,EAAO,YAM5E3B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,SAC7ByB,GAAQ,GAAKA,GAAQ,IAAK3B,EAAAA,EAAAA,KAACoP,EAAW,CAAC7N,OAAQA,IAAMuN,EAAKnN,EAAO,UAK5D,IAATA,IACC3B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4CAA2CC,UACxDF,EAAAA,EAAAA,KAACqP,EAAY,CAACxK,OAAQA,IAAMiK,EAAK,GAAIvN,OAAQA,IAAMuN,EAAK,OAGlD,IAATnN,IACC3B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4CAA2CC,UACxDF,EAAAA,EAAAA,KAACiI,EAAY,CAACpD,OAAQA,IAAMiK,EAAK,GAAIvN,OAAQA,IAAMuN,EAAK,OAGlD,IAATnN,IACC3B,EAAAA,EAAAA,KAAA,OAAKC,UAAS,GAAAmB,OAAK2N,EAAe,GAAK,eAAgB7O,UACrDF,EAAAA,EAAAA,KAACsP,EAAiB,CAAC1B,UAlFL2B,KACpBzK,GAAS0K,EAAAA,EAAAA,OACT1K,GAAS+J,EAAAA,EAAAA,GAAgB,IACzBN,EAAS,IAAK,CAAEzB,SAAS,GAAO,QAkFtB,C","sources":["features/products/ProductDetailModal.tsx","components/Stepper.tsx","features/cart/CartSummary.tsx","utils/validationSchemas.ts","features/customer/DeliveryForm.tsx","assets/mastercard.svg","assets/visa.svg","assets/americanexpress.svg","components/PaymentModal.tsx","hooks/useWompi.ts","features/transaction/TransactionResult.tsx","features/checkout/CheckoutFlow.tsx"],"sourcesContent":["// src/features/products/ProductDetailModal.tsx\r\nimport React from 'react'\r\nimport type { Product } from './productSlice'\r\n\r\ninterface Props {\r\n  product: Product\r\n  onClose: () => void\r\n}\r\n\r\nconst formatter = new Intl.NumberFormat('es-CO', {\r\n  style: 'currency',\r\n  currency: 'COP',\r\n  minimumFractionDigits: 2,\r\n})\r\n\r\nconst ProductDetailModal: React.FC<Props> = ({ product, onClose }) => (\r\n  <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n    <div className=\"bg-white rounded-2xl shadow-xl p-4 sm:p-6 w-full max-w-lg max-h-full overflow-y-auto relative\">\r\n      <button\r\n        onClick={onClose}\r\n        className=\"absolute top-3 right-3 text-gray-500 hover:text-gray-800 focus:outline-none\"\r\n        aria-label=\"Cerrar\"\r\n      >\r\n        ✕\r\n      </button>\r\n\r\n      <div className=\"w-full mb-4\">\r\n        <img\r\n          src={product.imageUrl ?? '/placeholder.png'}\r\n          alt={product.name}\r\n          className=\"w-full h-auto max-h-56 sm:max-h-64 object-contain rounded-lg mx-auto\"\r\n          loading=\"lazy\"\r\n        />\r\n      </div>\r\n\r\n      <h2 className=\"text-xl sm:text-2xl font-bold text-gray-800 mb-2\">{product.name}</h2>\r\n\r\n      <p className=\"text-gray-700 mb-4 text-sm sm:text-base\">{product.description}</p>\r\n\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <span className=\"text-lg sm:text-xl font-semibold text-green-600\">\r\n          {formatter.format(product.price)}\r\n        </span>\r\n        <span className=\"text-sm sm:text-base text-gray-500\">Stock: {product.stock}</span>\r\n      </div>\r\n\r\n      <button\r\n        onClick={onClose}\r\n        className=\"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none transition\"\r\n      >\r\n        Cerrar\r\n      </button>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default ProductDetailModal\r\n","import React from 'react';\r\n\r\ninterface StepperProps {\r\n  steps: string[];\r\n  current: number; // índice 0-based\r\n}\r\n\r\nconst Stepper: React.FC<StepperProps> = ({ steps, current }) => (\r\n  <div className=\"flex items-center mb-8\">\r\n    {steps.map((label, i) => (\r\n      <React.Fragment key={i}>\r\n        <div className=\"flex flex-col items-center\">\r\n          <div\r\n            className={`\r\n              w-8 h-8 rounded-full flex items-center justify-center \r\n              ${i <= current ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-600'}\r\n            `}\r\n          >\r\n            {i + 1}\r\n          </div>\r\n          <span className=\"mt-2 text-xs\">{label}</span>\r\n        </div>\r\n        {i < steps.length - 1 && (\r\n          <div\r\n            className={`flex-1 h-0.5 mx-2 ${\r\n              i < current ? 'bg-blue-600' : 'bg-gray-200'\r\n            }`}\r\n          />\r\n        )}\r\n      </React.Fragment>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Stepper;","// src/features/cart/CartSummary.tsx\r\nimport React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport type { RootState } from '../../app/store'\r\n\r\nconst BASE_FEE = 3000\r\nconst DELIVERY_FEE = 5000\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('es-CO', {\r\n  style: 'currency',\r\n  currency: 'COP',\r\n  minimumFractionDigits: 0,\r\n})\r\n\r\ninterface CartSummaryProps {\r\n  onNext: () => void\r\n}\r\n\r\nconst CartSummary: React.FC<CartSummaryProps> = ({ onNext }) => {\r\n  const [accepted, setAccepted] = useState(false)\r\n  const step = useSelector((s: RootState) => s.checkout.step)\r\n  const cartItems = useSelector((s: RootState) => s.cart.items)\r\n  const products  = useSelector((s: RootState) => s.products.items)\r\n\r\n  const details = cartItems.map(ci => {\r\n    const product = products.find(p => p.id === ci.productId)!\r\n    return { ...ci, product }\r\n  })\r\n\r\n  if (details.length === 0) {\r\n    return <p className=\"text-center text-gray-600 mt-8\">Tu carrito está vacío.</p>\r\n  }\r\n\r\n  const subtotal = details.reduce(\r\n    (sum, { product, quantity }) => sum + product.price * quantity,\r\n    0\r\n  )\r\n  const total = subtotal + BASE_FEE + DELIVERY_FEE\r\n\r\n  return (\r\n    <div className=\"p-6 w-full bg-white rounded-2xl shadow-xl flex flex-col h-full lg:sticky lg:top-6 lg:max-h-[calc(100vh-64px)] lg:overflow-auto\">\r\n      <h2 className=\"text-3xl font-semibold text-gray-800 mb-6\">\r\n        Resumen de tu compra\r\n      </h2>\r\n\r\n      <div className=\"flex-1 overflow-y-auto space-y-6 mb-6\">\r\n        {details.map(({ product, quantity }) => (\r\n          <div\r\n            key={product.id}\r\n            className=\"flex justify-between items-start text-gray-700\"\r\n          >\r\n            <div className=\"flex-1 pr-4\">\r\n              <p className=\"font-medium text-lg\">{product.name}</p>\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                {quantity} × {currencyFormatter.format(product.price)}\r\n              </p>\r\n            </div>\r\n            <p className=\"font-semibold text-lg\">\r\n              {currencyFormatter.format(product.price * quantity)}\r\n            </p>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"flex justify-between text-gray-700 text-base\">\r\n          <span>Tarifa base</span>\r\n          <span>{currencyFormatter.format(BASE_FEE)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between text-gray-700 text-base\">\r\n          <span>Envío</span>\r\n          <span>{currencyFormatter.format(DELIVERY_FEE)}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-between text-2xl font-bold text-gray-900 border-t pt-4 mb-6\">\r\n        <span>Total</span>\r\n        <span>{currencyFormatter.format(total)}</span>\r\n      </div>\r\n\r\n      {step === 1 && (\r\n        <>\r\n          <label className=\"inline-flex items-center mb-6\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"mr-2\"\r\n              checked={accepted}\r\n              onChange={() => setAccepted(a => !a)}\r\n            />\r\n            <span className=\"text-sm text-gray-600\">\r\n              Acepto los{' '}\r\n              <button className=\"text-blue-600 underline\">\r\n                términos y condiciones\r\n              </button>.\r\n            </span>\r\n          </label>\r\n\r\n          <button\r\n            onClick={onNext}\r\n            disabled={!accepted}\r\n            className={`w-full py-4 text-lg text-white rounded-lg transition shadow-md ${\r\n              accepted\r\n                ? 'bg-blue-600 hover:bg-blue-700'\r\n                : 'bg-gray-300 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            Contuinar pago con tarjeta de credito\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartSummary\r\n","import * as yup from 'yup';\r\n\r\nexport const deliverySchema = yup.object({\r\n  country:        yup.string().required('País requerido'),\r\n  firstName:      yup.string().required('Nombre requerido'),\r\n  lastName:       yup.string().required('Apellido requerido'),\r\n  documentNumber: yup.string().required('Número de documento'),\r\n  email: yup.string().required('Correo electronico requerido'),\r\n  address1:       yup.string().required('Dirección requerida'),\r\n  address2:       yup.string(), // opcional\r\n  city:           yup.string().required('Ciudad requerida'),\r\n  state:          yup.string().required('Provincia/Estado'),\r\n  postalCode:     yup.string(), // opcional\r\n  phone:          yup.string().required('Teléfono requerido'),\r\n  saveInfo:       yup.boolean(),\r\n  sendSmsOffers:  yup.boolean(),\r\n}).required();\r\n\r\nexport const paymentSchema = deliverySchema.concat(\r\n  yup.object({\r\n    cardNumber: yup\r\n      .string()\r\n      .required('Número de tarjeta requerido')\r\n      .matches(/^[0-9]{16}$/, 'Debe tener 16 dígitos'),\r\n    expMonth: yup\r\n      .string()\r\n      .required('Mes requerido')\r\n      .matches(/^(0[1-9]|1[0-2])$/, 'Mes inválido (01–12)'),\r\n    expYear: yup\r\n      .string()\r\n      .required('Año requerido')\r\n      .matches(/^[0-9]{2}$/, 'Debe tener dos dígitos'),\r\n    cvc: yup\r\n      .string()\r\n      .required('CVC requerido')\r\n      .matches(/^[0-9]{3}$/, 'Debe tener 3 dígitos'),\r\n  })\r\n);\r\n\r\nexport type DeliveryFormData = yup.InferType<typeof deliverySchema>;\r\nexport type PaymentFormData = yup.InferType<typeof paymentSchema>;\r\n","// src/features/customer/DeliveryForm.tsx\r\nimport React from 'react'\r\nimport { useForm, SubmitHandler, Resolver } from 'react-hook-form'\r\nimport { useDispatch } from 'react-redux'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { setCustomerInfo } from './customerSlice'\r\nimport { deliverySchema, DeliveryFormData } from '../../utils/validationSchemas'\r\n\r\ninterface Props {\r\n  onBack(): void\r\n  onNext(): void\r\n}\r\n\r\nconst countries = ['Colombia', 'México', 'España']  // Ajusta a tu lista real\r\nconst states = ['Antioquia', 'Cundinamarca', 'Valle del Cauca']\r\n\r\nconst DeliveryForm: React.FC<Props> = ({ onBack, onNext }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting }\r\n  } = useForm<DeliveryFormData>({\r\n    resolver: yupResolver(deliverySchema) as Resolver<DeliveryFormData>,\r\n    mode: 'onBlur'\r\n  })\r\n\r\n  const onSubmit: SubmitHandler<DeliveryFormData> = (data) => {\r\n    // Despacha todo el objeto DeliveryFormData al slice\r\n    dispatch(setCustomerInfo(data))\r\n    onNext()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold\">2. Información de entrega</h2>\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\r\n\r\n        {/* Correo electrónico */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">Correo electrónico</label>\r\n          <input\r\n            type=\"email\"\r\n            {...register('email')}\r\n            placeholder=\"correo@ejemplo.com\"\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          />\r\n          {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email.message}</p>}\r\n        </div>\r\n\r\n        {/* País / Región */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">País / Región</label>\r\n          <select\r\n            {...register('country')}\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          >\r\n            <option value=\"\">Seleccione</option>\r\n            {countries.map(c => <option key={c} value={c}>{c}</option>)}\r\n          </select>\r\n          {errors.country && <p className=\"text-red-500 text-xs mt-1\">{errors.country.message}</p>}\r\n        </div>\r\n\r\n        {/* Nombre y Apellidos */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Nombre</label>\r\n            <input\r\n              {...register('firstName')}\r\n              placeholder=\"Juan\"\r\n              className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n            />\r\n            {errors.firstName && <p className=\"text-red-500 text-xs mt-1\">{errors.firstName.message}</p>}\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Apellidos</label>\r\n            <input\r\n              {...register('lastName')}\r\n              placeholder=\"Pérez\"\r\n              className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n            />\r\n            {errors.lastName && <p className=\"text-red-500 text-xs mt-1\">{errors.lastName.message}</p>}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Documento */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">No. de Documento</label>\r\n          <input\r\n            {...register('documentNumber')}\r\n            placeholder=\"123456789\"\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          />\r\n          {errors.documentNumber && <p className=\"text-red-500 text-xs mt-1\">{errors.documentNumber.message}</p>}\r\n        </div>\r\n\r\n        {/* Dirección */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">Dirección</label>\r\n          <input\r\n            {...register('address1')}\r\n            placeholder=\"Calle 123 #45-67\"\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          />\r\n          {errors.address1 && <p className=\"text-red-500 text-xs mt-1\">{errors.address1.message}</p>}\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">Casa, apto, etc. (opcional)</label>\r\n          <input\r\n            {...register('address2')}\r\n            placeholder=\"Apto 302\"\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          />\r\n        </div>\r\n\r\n        {/* Ciudad / Estado / Código postal */}\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Ciudad</label>\r\n            <input\r\n              {...register('city')}\r\n              placeholder=\"Medellín\"\r\n              className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n            />\r\n            {errors.city && <p className=\"text-red-500 text-xs mt-1\">{errors.city.message}</p>}\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Provincia / Estado</label>\r\n            <select\r\n              {...register('state')}\r\n              className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n            >\r\n              <option value=\"\">Seleccione</option>\r\n              {states.map(s => <option key={s} value={s}>{s}</option>)}\r\n            </select>\r\n            {errors.state && <p className=\"text-red-500 text-xs mt-1\">{errors.state.message}</p>}\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Código postal (opcional)</label>\r\n            <input\r\n              {...register('postalCode')}\r\n              placeholder=\"630001\"\r\n              className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Teléfono */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium\">Teléfono</label>\r\n          <input\r\n            {...register('phone')}\r\n            placeholder=\"+57 3001234567\"\r\n            className=\"mt-1 w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300\"\r\n          />\r\n          {errors.phone && <p className=\"text-red-500 text-xs mt-1\">{errors.phone.message}</p>}\r\n        </div>\r\n\r\n\r\n        {/* Botones de navegación */}\r\n        <div className=\"flex justify-between pt-6\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onBack}\r\n            className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition\"\r\n          >\r\n            ← Anterior\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\r\n          >\r\n            Siguiente →\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DeliveryForm\r\n","var _g, _defs;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgMastercard(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 23,\n    viewBox: \"0 0 30 23\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_26_10342)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.5457 22.6974V22.7543H28.5987C28.6087 22.7545 28.6185 22.7521 28.6271 22.7471C28.6341 22.7421 28.6382 22.7339 28.6378 22.7253C28.6382 22.7169 28.6341 22.7088 28.6271 22.7041C28.6186 22.699 28.6087 22.6964 28.5987 22.6969H28.5457V22.6974ZM28.5993 22.6572C28.622 22.6557 28.6445 22.6623 28.6629 22.6757C28.678 22.6879 28.6862 22.7067 28.6852 22.726C28.686 22.7427 28.6794 22.7587 28.6673 22.7703C28.6531 22.7827 28.6352 22.79 28.6165 22.7915L28.6875 22.8726H28.6328L28.5674 22.792H28.5463V22.8726H28.5005V22.6573H28.5993V22.6572ZM28.5851 22.9467C28.6091 22.947 28.6328 22.9421 28.6548 22.9325C28.676 22.9234 28.6953 22.9103 28.7117 22.8939C28.728 22.8775 28.7411 22.8583 28.7502 22.837C28.7688 22.7919 28.7688 22.7413 28.7502 22.6962C28.7409 22.675 28.7279 22.6556 28.7117 22.6392C28.6953 22.6229 28.676 22.6098 28.6548 22.6007C28.6327 22.5916 28.6089 22.587 28.5851 22.5873C28.5608 22.587 28.5366 22.5916 28.514 22.6007C28.4923 22.6096 28.4727 22.6227 28.4559 22.6392C28.4045 22.692 28.3895 22.7704 28.418 22.8384C28.4266 22.8598 28.4396 22.8791 28.4559 22.8953C28.4727 22.9118 28.4923 22.9249 28.514 22.9339C28.5365 22.9434 28.5606 22.9484 28.5851 22.9481V22.9467ZM28.5851 22.5355C28.6474 22.5355 28.7076 22.56 28.752 22.6038C28.7735 22.6249 28.7905 22.6499 28.8023 22.6777C28.8269 22.7351 28.8269 22.8001 28.8023 22.8576C28.7904 22.8852 28.7732 22.9103 28.752 22.9315C28.7303 22.9524 28.7048 22.9693 28.6771 22.9813C28.648 22.9936 28.6168 22.9999 28.5851 22.9998C28.5531 23 28.5214 22.9936 28.4919 22.9813C28.4639 22.9696 28.4383 22.9527 28.4164 22.9315C28.3952 22.9094 28.3783 22.8835 28.3668 22.8552C28.3422 22.7977 28.3422 22.7327 28.3668 22.6752C28.3786 22.6475 28.3957 22.6225 28.4171 22.6014C28.4386 22.5799 28.4643 22.5628 28.4926 22.5516C28.5221 22.5392 28.5538 22.5328 28.5858 22.5331L28.5851 22.5355ZM6.82757 21.7042C6.82757 21.2938 7.09613 20.9566 7.53506 20.9566C7.97399 20.9566 8.23757 21.2793 8.23757 21.7042C8.23757 22.1292 7.95452 22.4519 7.53506 22.4519C7.11559 22.4519 6.82757 22.1147 6.82757 21.7042ZM8.71572 21.7042V20.5362H8.20858V20.8207C8.04773 20.6105 7.80376 20.4786 7.47197 20.4786C6.81833 20.4786 6.30537 20.9919 6.30537 21.7048C6.30537 22.4177 6.81805 22.931 7.47197 22.931C7.80361 22.931 8.04773 22.799 8.20858 22.5889V22.8724H8.71515V21.7042H8.71572ZM25.8512 21.7042C25.8512 21.2938 26.1197 20.9566 26.5588 20.9566C26.9979 20.9566 27.2613 21.2793 27.2613 21.7042C27.2613 22.1292 26.9787 22.4519 26.5588 22.4519C26.1389 22.4519 25.8512 22.1147 25.8512 21.7042ZM27.7399 21.7042V19.5986H27.2323V20.8207C27.0715 20.6105 26.8275 20.4786 26.4957 20.4786C25.8421 20.4786 25.3291 20.9919 25.3291 21.7048C25.3291 22.4177 25.8418 22.931 26.4957 22.931C26.8275 22.931 27.0715 22.799 27.2323 22.5889V22.8724H27.7399V21.7042ZM15.0099 20.9326C15.3368 20.9326 15.5466 21.1377 15.6002 21.4989H14.3901C14.4443 21.1618 14.6487 20.9326 15.0101 20.9326H15.0099ZM15.0202 20.4773C14.3367 20.4773 13.8585 20.9752 13.8585 21.7035C13.8585 22.4318 14.3559 22.9298 15.0541 22.9298C15.4054 22.9298 15.7271 22.842 16.0101 22.6025L15.7616 22.2262C15.5661 22.3827 15.3171 22.4705 15.0831 22.4705C14.7563 22.4705 14.4587 22.319 14.3856 21.8986H16.1173C16.1222 21.8354 16.1274 21.7717 16.1274 21.7034C16.1222 20.9754 15.6727 20.4772 15.0199 20.4772L15.0202 20.4773ZM21.1427 21.7034C21.1427 21.2929 21.4113 20.9558 21.8502 20.9558C22.2891 20.9558 22.5527 21.2784 22.5527 21.7034C22.5527 22.1283 22.2697 22.451 21.8502 22.451C21.4308 22.451 21.1426 22.1138 21.1426 21.7034H21.1427ZM23.0307 21.7034V20.5362H22.5239V20.8207C22.3625 20.6105 22.1191 20.4786 21.7873 20.4786C21.1336 20.4786 20.6207 20.9919 20.6207 21.7048C20.6207 22.4177 21.1333 22.931 21.7873 22.931C22.1191 22.931 22.3625 22.799 22.5239 22.5889V22.8724H23.0309V21.7034H23.0307ZM18.2787 21.7034C18.2787 22.4118 18.7712 22.9296 19.5229 22.9296C19.8741 22.9296 20.1081 22.8514 20.3612 22.6512L20.1177 22.2407C19.9273 22.3777 19.7273 22.451 19.5067 22.451C19.1018 22.446 18.8041 22.153 18.8041 21.7034C18.8041 21.2538 19.1018 20.9609 19.5067 20.9558C19.7268 20.9558 19.9267 21.029 20.1177 21.166L20.3612 20.7556C20.1077 20.5554 19.8737 20.4772 19.5229 20.4772C18.7712 20.4772 18.2787 20.9949 18.2787 21.7034ZM24.8164 20.4772C24.5239 20.4772 24.3333 20.6142 24.2016 20.8193V20.5362H23.699V22.8711H24.2067V21.5623C24.2067 21.1758 24.3725 20.9612 24.704 20.9612C24.8126 20.9596 24.9205 20.9795 25.0212 21.0199L25.1775 20.5413C25.0652 20.4971 24.9189 20.4776 24.8162 20.4776L24.8164 20.4772ZM11.2228 20.7219C10.9789 20.5608 10.6427 20.4776 10.2718 20.4776C9.68097 20.4776 9.30058 20.7611 9.30058 21.2251C9.30058 21.6058 9.58377 21.8407 10.1053 21.9139L10.3448 21.9481C10.6229 21.9872 10.7542 22.0605 10.7542 22.1924C10.7542 22.3729 10.5695 22.4759 10.2226 22.4759C9.87578 22.4759 9.61788 22.3635 9.44694 22.2316L9.20864 22.6276C9.48672 22.8327 9.83798 22.9306 10.2184 22.9306C10.8919 22.9306 11.2822 22.6131 11.2822 22.1685C11.2822 21.758 10.975 21.5433 10.4675 21.4701L10.2285 21.4353C10.0089 21.4069 9.83301 21.3626 9.83301 21.2061C9.83301 21.0354 9.99883 20.9327 10.2771 20.9327C10.5747 20.9327 10.8629 21.0451 11.0041 21.1329L11.2237 20.7224L11.2228 20.7219ZM17.7664 20.478C17.4738 20.478 17.2833 20.615 17.1521 20.8202V20.5362H16.6496V22.8711H17.1567V21.5623C17.1567 21.1758 17.3225 20.9612 17.654 20.9612C17.7626 20.9596 17.8704 20.9795 17.9712 21.0199L18.1275 20.5413C18.0152 20.4971 17.8689 20.4776 17.7661 20.4776L17.7664 20.478ZM13.4388 20.5362H12.6095V19.8278H12.0969V20.5362H11.6238V21.0003H12.0969V22.0655C12.0969 22.6072 12.3069 22.9299 12.9068 22.9299C13.1269 22.9299 13.3804 22.8616 13.5412 22.7494L13.3947 22.3146C13.2434 22.4024 13.0776 22.4466 12.9457 22.4466C12.6922 22.4466 12.6095 22.2901 12.6095 22.0558V21.0007H13.4388V20.5362ZM5.85678 22.8717V21.4063C5.85678 20.8545 5.50552 20.4831 4.93927 20.4782C4.64159 20.4732 4.33452 20.5659 4.11953 20.8936C3.95868 20.6346 3.70518 20.4782 3.34881 20.4782C3.09972 20.4782 2.85631 20.5514 2.66576 20.8249V20.5362H2.1582V22.8711H2.66974V21.5765C2.66974 21.1712 2.89425 20.9558 3.24096 20.9558C3.58767 20.9558 3.7481 21.1756 3.7481 21.5714V22.8709H4.26077V21.5762C4.26077 21.1709 4.4948 20.9555 4.83143 20.9555C5.16805 20.9555 5.34297 21.1753 5.34297 21.5711V22.8706L5.85678 22.8717Z\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.8355 15.1049V14.7632H28.7466L28.6438 14.9977L28.5415 14.7632H28.4524V15.1049H28.5155V14.8475L28.6117 15.0696H28.6771L28.7732 14.8469V15.1049H28.8355ZM28.2716 15.1049V14.8217H28.3854V14.764H28.0947V14.8217H28.2085V15.1049H28.2716Z\",\n    fill: \"#F79410\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.7415 16.5689H11.0562V2.74023H18.7416V16.5689H18.7415Z\",\n    fill: \"#FF5F00\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.543 9.6551C11.543 6.84995 12.8548 4.35111 14.8976 2.74075C13.3513 1.52007 11.4389 0.857515 9.46973 0.860361C4.61905 0.860361 0.687012 4.79784 0.687012 9.6551C0.687012 14.5124 4.61905 18.4498 9.46973 18.4498C11.4389 18.4528 13.3515 17.7903 14.8977 16.5695C12.8551 14.9594 11.543 12.4604 11.543 9.6551Z\",\n    fill: \"#EB001B\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M29.1094 9.6551C29.1094 14.5124 25.1773 18.4498 20.3267 18.4498C18.3572 18.4527 16.4445 17.7901 14.8979 16.5695C16.9413 14.9591 18.2531 12.4604 18.2531 9.6551C18.2531 6.84981 16.9413 4.35111 14.8979 2.74075C16.4445 1.52007 18.3572 0.857515 20.3265 0.860361C25.1772 0.860361 29.1092 4.79784 29.1092 9.6551\",\n    fill: \"#F79E1B\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_26_10342\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 28.4224,\n    height: 22.1396,\n    fill: \"white\",\n    transform: \"translate(0.687012 0.860352)\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMastercard);\nexport default __webpack_public_path__ + \"static/media/mastercard.7f8a8f114b7a7bc263fbf0de706011f6.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgVisa(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 800,\n    width: 1200,\n    viewBox: \"-74.7 -40.204 647.4 241.224\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: 0,\n    y1: 0,\n    x2: 1,\n    y2: 0,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"scale(89.72793 -89.72793) rotate(-20.218 .966 -.457)\",\n    spreadMethod: \"pad\",\n    id: \"b\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#222357\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#254aa5\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    clipPathUnits: \"userSpaceOnUse\",\n    id: \"a\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M413.742 90.435c-.057-4.494 4.005-7.002 7.065-8.493 3.144-1.53 4.2-2.511 4.188-3.879-.024-2.094-2.508-3.018-4.833-3.054-4.056-.063-6.414 1.095-8.289 1.971l-1.461-6.837c1.881-.867 5.364-1.623 8.976-1.656 8.478 0 14.025 4.185 14.055 10.674.033 8.235-11.391 8.691-11.313 12.372.027 1.116 1.092 2.307 3.426 2.61 1.155.153 4.344.27 7.959-1.395l1.419 6.615c-1.944.708-4.443 1.386-7.554 1.386-7.98 0-13.593-4.242-13.638-10.314m34.827 9.744c-1.548 0-2.853-.903-3.435-2.289l-12.111-28.917h8.472l1.686 4.659h10.353l.978-4.659h7.467l-6.516 31.206h-6.894m1.185-8.43 2.445-11.718h-6.696l4.251 11.718m-46.284 8.43-6.678-31.206h8.073l6.675 31.206h-8.07m-11.943 0-8.403-21.24-3.399 18.06c-.399 2.016-1.974 3.18-3.723 3.18h-13.737l-.192-.906c2.82-.612 6.024-1.599 7.965-2.655 1.188-.645 1.527-1.209 1.917-2.742l6.438-24.903h8.532l13.08 31.206h-8.478\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#a)\",\n    transform: \"matrix(4.98469 0 0 -4.98469 -1804.82 502.202)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 0 98.437 36.252 22.394-60.809-98.436-36.252\",\n    fill: \"url(#b)\",\n    transform: \"translate(351.611 96.896)\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgVisa);\nexport default __webpack_public_path__ + \"static/media/visa.20e13694da6ba98fc8bdfa218579fab1.svg\";\nexport { ForwardRef as ReactComponent };","const _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgAmericanexpress(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 504 504\",\n    style: {\n      enableBackground: \"new 0 0 504 504\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#fff\"\n    },\n    d: \"M453.79 432h-360V72h360v360z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M450 450v-62.75h-47.78l-24.59-27.2-24.72 27.2H195.39V260.5h-50.84l63.06-142.71h60.82l21.71 48.89v-48.89h75.28l13.07 36.84 13.15-36.84H450V54H54v396h396zm-39.73-78.62H450l-52.55-55.73L450 260.56h-39.1l-32.45 35.46-32.14-35.46h-39.74l52.24 55.41-52.24 55.41h38.63l32.61-35.78 32.46 35.78zm9.3-55.68L450 348.08V283.6l-30.43 32.1zm-177.11 30.03v-17.26h62.53v-25.01h-62.53v-17.25h64.12v-25.65h-94.36v110.82h94.36v-25.65h-64.12zm177.62-101.25H450V133.65h-46.55l-24.86 69.03-24.7-69.03h-47.34v110.82h29.92V166.9l28.5 77.58h26.6l28.5-77.74v77.74h.01zm-147.56 0h34.04l-48.92-110.82H218.7l-48.92 110.82h33.25l9.18-22.16h50.98l9.33 22.16zm-19.78-47.02h-30.08l15.04-36.25 15.04 36.25z\",\n    style: {\n      fill: \"#0079c1\"\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAmericanexpress);\nexport default __webpack_public_path__ + \"static/media/americanexpress.29f7c30356825d951b21a14ebb8b23c1.svg\";\nexport { ForwardRef as ReactComponent };","// src/components/PaymentModal.tsx\r\nimport React, { useEffect } from 'react';\r\nimport { useForm, SubmitHandler, Controller, Resolver } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport type { RootState } from '../app/store';\r\nimport { usePayment } from '../hooks/useWompi';\r\nimport mastercardLogo from '../assets/mastercard.svg';\r\nimport visaLogo from '../assets/visa.svg';\r\nimport amexLogo from '../assets/americanexpress.svg';\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('es-CO', {\r\n  style: 'currency',\r\n  currency: 'COP',\r\n  minimumFractionDigits: 0,\r\n})\r\n\r\nconst BASE_FEE = Number(process.env.REACT_APP_BASE_FEE ?? 3000);\r\nconst DELIVERY_FEE = Number(process.env.REACT_APP_DELIVERY_FEE ?? 5000);\r\n\r\n// --- Validación con Yup ---\r\nconst schema = yup.object({\r\n  cardNumber: yup.string().required('Número de tarjeta requerido').matches(/^[0-9]{16}$/, 'Debe tener 16 dígitos'),\r\n  expMonth: yup.string().required('Mes requerido'),\r\n  expYear: yup.string().required('Año requerido'),\r\n  cvc: yup.string().required('CVC requerido').matches(/^[0-9]{3,4}$/, '3 o 4 dígitos'),\r\n  name: yup.string().required('Nombre en tarjeta requerido'),\r\n  idType: yup.string().required('Tipo de documento requerido'),\r\n  idNumber: yup.string().required('Número de documento requerido'),\r\n  installments: yup.string().required('Debes seleccionar número de cuotas'),\r\n  acceptTerms: yup.boolean().oneOf([true], 'Debes aceptar el reglamento'),\r\n  acceptData: yup.boolean().oneOf([true], 'Debes autorizar tratamiento de datos'),\r\n}).required();\r\n\r\ntype FormData = yup.InferType<typeof schema>;\r\n\r\n// Detección de marca de tarjeta\r\nconst detectBrand = (num: string) => {\r\n  if (/^4/.test(num)) return 'visa';\r\n  if (/^5[1-5]/.test(num)) return 'mastercard';\r\n  if (/^3[47]/.test(num)) return 'amex';\r\n  return null;\r\n};\r\n\r\nconst months = Array.from({ length: 12 }, (_, i) => (i + 1).toString().padStart(2, '0'));\r\nconst currentYear = new Date().getFullYear();\r\nconst years = Array.from({ length: 10 }, (_, i) => (currentYear + i).toString().slice(-2));\r\n\r\n\r\n\r\n// Overlay de carga\r\nconst LoadingOverlay: React.FC = () => (\r\n  <div className=\"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center\">\r\n    <div className=\"bg-white p-4 rounded-lg shadow-lg flex items-center gap-2\">\r\n      <svg className=\"animate-spin h-6 w-6 text-blue-600\" viewBox=\"0 0 24 24\">\r\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8H4z\" />\r\n      </svg>\r\n      <span>Procesando pago...</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst PaymentModal: React.FC<{ onBack: () => void; onNext: () => void }> = ({ onBack, onNext }) => {\r\n  const { handlePayment, loading } = usePayment();\r\n  const customer = useSelector((s: RootState) => s.customer);\r\n  const {\r\n    address1,\r\n    address2,\r\n    city,\r\n    state: region,\r\n    postalCode,\r\n    country,\r\n    phone,\r\n    email,\r\n    firstName,\r\n    lastName,\r\n  } = customer;\r\n\r\n  const deliveryInfo = {\r\n    addressLine1: address1,\r\n    addressLine2: address2,\r\n    city,\r\n    state: region,\r\n    postalCode: postalCode || '',\r\n    country,\r\n    phone,\r\n  };\r\n\r\n  const cartItems = useSelector((s: RootState) => s.cart.items);\r\n  const products = useSelector((s: RootState) => s.products.items);\r\n\r\n  if (!cartItems.length) throw new Error('Carrito vacío');\r\n\r\n  const itemsWithDetails = cartItems\r\n    .map(ci => {\r\n      const prod = products.find(p => p.id === ci.productId);\r\n      return prod ? { id: prod.id, price: prod.price, quantity: ci.quantity } : null;\r\n    })\r\n    .filter(Boolean) as Array<{ id: string; price: number; quantity: number }>;\r\n\r\n  const subtotal = itemsWithDetails.reduce((sum, it) => sum + it.price * it.quantity, 0);\r\n  const totalInPesos = subtotal + BASE_FEE + DELIVERY_FEE;\r\n  const amountInCents = totalInPesos * 100;\r\n\r\n  const formResolver = yupResolver(schema) as Resolver<FormData>;\r\n  const { control, register, handleSubmit, watch, formState: { errors } } =\r\n    useForm<FormData>({\r\n      resolver: formResolver,\r\n      defaultValues: {\r\n        cardNumber: '',\r\n        expMonth: '',\r\n        expYear: '',\r\n        cvc: '',\r\n        name: '',\r\n        idType: '',\r\n        idNumber: '',\r\n        installments: '',\r\n        acceptTerms: false,\r\n        acceptData: false,\r\n      }\r\n    });\r\n\r\n  const selectedInstallments = Number(watch('installments')) || 0;\r\n\r\n\r\n  const rawCard = watch('cardNumber');\r\n  const brand = detectBrand(rawCard);\r\n\r\n  useEffect(() => {\r\n    const onUnload = (e: BeforeUnloadEvent) => {\r\n      if (loading) {\r\n        e.preventDefault();\r\n        e.returnValue = '';\r\n      }\r\n    };\r\n    window.addEventListener('beforeunload', onUnload);\r\n    return () => window.removeEventListener('beforeunload', onUnload);\r\n  }, [loading]);\r\n\r\n  const onSubmit: SubmitHandler<FormData> = data =>\r\n    handlePayment({\r\n      cardNumber: data.cardNumber,\r\n      expMonth: data.expMonth,\r\n      expYear: data.expYear,\r\n      cvc: data.cvc,\r\n      name: data.name,\r\n      address: customer.address1,\r\n      email: customer.email,\r\n      amountInCents,\r\n      products: itemsWithDetails.map(it => ({ productId: it.id, quantity: it.quantity })),\r\n      documentType: data.idType,\r\n      documentNumber: data.idNumber,\r\n      installments: Number(data.installments),\r\n      deliveryInfo,\r\n    }).finally(onNext);\r\n\r\n  const iconClass = (ic: string) =>\r\n    `h-6 transition-opacity ${brand === ic ? 'opacity-100' : 'opacity-30'}`;\r\n\r\n  return (\r\n    <>\r\n      {loading && <LoadingOverlay />}\r\n      <div className=\"flex items-center justify-center gap-2 mb-6 text-green-600\">\r\n        <h2 className=\"text-2xl font-bold\">Pago seguro</h2>\r\n      </div>\r\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n        <div className=\"flex gap-4 justify-center mb-4\">\r\n          <img src={visaLogo} alt=\"Visa\" className={iconClass('visa')} />\r\n          <img src={mastercardLogo} alt=\"Mastercard\" className={iconClass('mastercard')} />\r\n          <img src={amexLogo} alt=\"Amex\" className={iconClass('amex')} />\r\n        </div>\r\n\r\n        <Controller\r\n          name=\"cardNumber\"\r\n          control={control}\r\n          render={({ field: { value, onChange, onBlur } }) => {\r\n            const raw = value.replace(/\\D/g, '').slice(0, 16);\r\n            const display = raw.match(/.{1,4}/g)?.join(' ') || '';\r\n            return (\r\n              <div>\r\n                <label htmlFor=\"cardNumber\" className=\"block text-sm font-medium mb-1\">\r\n                  Número de tarjeta\r\n                </label>\r\n                <input\r\n                  id=\"cardNumber\"\r\n                  inputMode=\"numeric\"\r\n                  autoComplete=\"cc-number\"\r\n                  placeholder=\"•••• •••• •••• ••••\"\r\n                  value={display}\r\n                  onChange={e => onChange(e.currentTarget.value.replace(/\\s+/g, ''))}\r\n                  onBlur={onBlur}\r\n                  className=\"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n                />\r\n                {errors.cardNumber && (\r\n                  <p className=\"text-red-500 text-xs mt-1\">{errors.cardNumber.message}</p>\r\n                )}\r\n              </div>\r\n            );\r\n          }}\r\n        />\r\n\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Mes</label>\r\n            <Controller\r\n              name=\"expMonth\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <select\r\n                  {...field}\r\n                  autoComplete=\"cc-exp-month\"\r\n                  className=\"w-full border rounded-lg px-2 py-2 focus:ring-2 focus:ring-blue-300\"\r\n                >\r\n                  <option value=\"\">Mes</option>\r\n                  {months.map(m => <option key={m} value={m}>{m}</option>)}\r\n                </select>\r\n              )}\r\n            />\r\n            {errors.expMonth && <p className=\"text-red-500 text-xs mt-1\">{errors.expMonth.message}</p>}\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Año</label>\r\n            <Controller\r\n              name=\"expYear\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <select\r\n                  {...field}\r\n                  autoComplete=\"cc-exp-year\"\r\n                  className=\"w-full border rounded-lg px-2 py-2 focus:ring-2 focus:ring-blue-300\"\r\n                >\r\n                  <option value=\"\">Año</option>\r\n                  {years.map(y => <option key={y} value={y}>{y}</option>)}\r\n                </select>\r\n              )}\r\n            />\r\n            {errors.expYear && <p className=\"text-red-500 text-xs mt-1\">{errors.expYear.message}</p>}\r\n          </div>\r\n          <div className=\"col-span-2 relative\">\r\n            <label htmlFor=\"cvc\" className=\"block text-sm font-medium mb-1\">\r\n              CVC\r\n              <span title=\"Código de seguridad en reverso\" className=\"ml-1 text-gray-400 cursor-help\">?</span>\r\n            </label>\r\n            <input\r\n              id=\"cvc\"\r\n              type=\"password\"\r\n              inputMode=\"numeric\"\r\n              autoComplete=\"cc-csc\"\r\n              maxLength={4}\r\n              {...register('cvc')}\r\n              className=\"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n            />\r\n            {errors.cvc && <p className=\"text-red-500 text-xs mt-1\">{errors.cvc.message}</p>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          {/* Nombre en tarjeta ocupa las dos columnas */}\r\n          <div className=\"col-span-2\">\r\n            <label htmlFor=\"name\" className=\"block text-sm font-medium mb-1\">\r\n              Nombre en tarjeta\r\n            </label>\r\n            <input\r\n              id=\"name\"\r\n              placeholder=\"JUAN PEREZ\"\r\n              autoComplete=\"cc-name\"\r\n              {...register('name')}\r\n              className=\"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300 uppercase\"\r\n            />\r\n            {errors.name && <p className=\"text-red-500 text-xs mt-1\">{errors.name.message}</p>}\r\n          </div>\r\n\r\n          {/* Tipo de documento */}\r\n          <div>\r\n            <label htmlFor=\"idType\" className=\"block text-sm font-medium mb-1\">\r\n              Tipo doc.\r\n            </label>\r\n            <Controller\r\n              name=\"idType\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <select\r\n                  {...field}\r\n                  className=\"w-full border rounded-lg px-2 py-2 focus:ring-2 focus:ring-blue-300\"\r\n                >\r\n                  <option value=\"\">Seleccione</option>\r\n                  <option value=\"CC\">Cédula ciudadanía</option>\r\n                  <option value=\"CE\">Cédula extranjería</option>\r\n                  <option value=\"TI\">Tarjeta identidad</option>\r\n                </select>\r\n              )}\r\n            />\r\n            {errors.idType && <p className=\"text-red-500 text-xs mt-1\">{errors.idType.message}</p>}\r\n          </div>\r\n\r\n          {/* Número de documento */}\r\n          <div>\r\n            <label htmlFor=\"idNumber\" className=\"block text-sm font-medium mb-1\">\r\n              Número doc.\r\n            </label>\r\n            <input\r\n              id=\"idNumber\"\r\n              autoComplete=\"id-number\"\r\n              {...register('idNumber')}\r\n              className=\"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300 uppercase\"\r\n            />\r\n            {errors.idNumber && <p className=\"text-red-500 text-xs mt-1\">{errors.idNumber.message}</p>}\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div>\r\n          <label htmlFor=\"installments\" className=\"block text-sm font-medium mb-1\">\r\n            Cuotas\r\n          </label>\r\n          <Controller\r\n            name=\"installments\"\r\n            control={control}\r\n            render={({ field }) => (\r\n              <select\r\n                {...field}\r\n                id=\"installments\"\r\n                className=\"w-full border rounded-lg px-2 py-2 focus:ring-2 focus:ring-blue-300\"\r\n              >\r\n                <option value=\"\">Seleccione</option>\r\n                {Array.from({ length: 12 }, (_, i) => (i + 1).toString()).map(n => (\r\n                  <option key={n} value={n}>{n}</option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          />\r\n          {errors.installments && (\r\n            <p className=\"text-red-500 text-xs mt-1\">\r\n              {errors.installments.message}\r\n            </p>\r\n          )}\r\n\r\n          \r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center\">\r\n            <input id=\"acceptTerms\" type=\"checkbox\" {...register('acceptTerms')} className=\"mr-2\" />\r\n            <label htmlFor=\"acceptTerms\" className=\"text-sm\">Acepto el reglamento</label>\r\n          </div>\r\n          {errors.acceptTerms && <p className=\"text-red-500 text-xs\">{errors.acceptTerms.message}</p>}\r\n          <div className=\"flex items-center\">\r\n            <input id=\"acceptData\" type=\"checkbox\" {...register('acceptData')} className=\"mr-2\" />\r\n            <label htmlFor=\"acceptData\" className=\"text-sm\">Autorizo tratamiento datos</label>\r\n          </div>\r\n          {errors.acceptData && <p className=\"text-red-500 text-xs\">{errors.acceptData.message}</p>}\r\n        </div>\r\n\r\n        <div className=\"flex justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onBack}\r\n            className=\"px-4 py-2 border rounded-lg hover:bg-gray-100\"\r\n          >\r\n            ← Volver\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Procesando...' : 'Pagar con tarjeta de credito'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(PaymentModal);\r\n","// src/hooks/useWompi.ts\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  startTransaction,\r\n  setTransactionSuccess,\r\n  setTransactionFailed,\r\n} from '../features/transaction/transactionSlice';\r\n\r\nexport interface DeliveryInfo {\r\n  addressLine1: string;\r\n  addressLine2?: string;\r\n  city: string;\r\n  state: string;\r\n  postalCode: string;\r\n  country: string;\r\n  phone?: string;\r\n}\r\n\r\nexport interface UsePaymentInput {\r\n  cardNumber: string;\r\n  expMonth: string;\r\n  expYear: string;\r\n  cvc: string;\r\n  name: string;\r\n  address: string;\r\n  email: string;\r\n  amountInCents: number;\r\n  products: Array<{\r\n    productId: string;\r\n    quantity: number;\r\n  }>;\r\n  documentType: string;\r\n  documentNumber: string;\r\n  installments: number;\r\n  deliveryInfo: DeliveryInfo;\r\n}\r\n\r\nexport const usePayment = () => {\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handlePayment = async (data: UsePaymentInput) => {\r\n    try {\r\n      setError(null);\r\n      setLoading(true);\r\n      dispatch(startTransaction());\r\n\r\n      // 1) Crear cliente\r\n      const customerRes = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/customers`,\r\n        {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            name: data.name,\r\n            address: data.address,\r\n            email: data.email,\r\n            documentType: data.documentType,\r\n            documentNumber: data.documentNumber,\r\n          }),\r\n        }\r\n      );\r\n      const customer = await customerRes.json();\r\n\r\n      const paymentRes = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/payments`,\r\n        {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            customerId: customer.id,\r\n            customerEmail: data.email,\r\n            amountInCents: data.amountInCents,\r\n\r\n            cardNumber: data.cardNumber,\r\n            cvc: data.cvc,\r\n            expMonth: data.expMonth,\r\n            expYear: data.expYear,\r\n            name: data.name,\r\n\r\n            documentType: data.documentType,\r\n            documentNumber: data.documentNumber,\r\n            installments: data.installments,\r\n\r\n            products: data.products,\r\n            deliveryInfo: data.deliveryInfo,\r\n          }),\r\n        }\r\n      );\r\n\r\n      if (!paymentRes.ok) {\r\n        const errBody = await paymentRes.json();\r\n        const msgs = errBody.details?.error?.messages;\r\n        const userMsg = msgs\r\n          ? Object.values(msgs).flat().join(', ')\r\n          : errBody.message || 'Error desconocido';\r\n        throw new Error(userMsg);\r\n      }\r\n\r\n      const payment = await paymentRes.json();\r\n      dispatch(setTransactionSuccess({ id: payment.transactionId }));\r\n      return true;\r\n    } catch (err: any) {\r\n      dispatch(setTransactionFailed({ message: err.message }));\r\n      setError(err.message);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { handlePayment, loading, error };\r\n};\r\n","// src/features/transaction/TransactionResult.tsx\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport type { RootState } from '../../app/store'\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('es-CO', {\r\n  style: 'currency',\r\n  currency: 'COP',\r\n  minimumFractionDigits: 0\r\n})\r\n\r\ninterface Props {\r\n  onRestart(): void\r\n}\r\n\r\n/**\r\n * Comprobante responsivo de la transacción y detalle de envío.\r\n */\r\nconst TransactionResult: React.FC<Props> = ({ onRestart }) => {\r\n  const { transactionId, status: txStatus } = useSelector((s: RootState) => s.transaction)\r\n  const customer = useSelector((s: RootState) => s.customer)\r\n  const cartItems = useSelector((s: RootState) => s.cart.items)\r\n  const products = useSelector((s: RootState) => s.products.items)\r\n\r\n  const itemsWithDetails = cartItems.map(ci => {\r\n    const prod = products.find(p => p.id === ci.productId)!\r\n    return { ...ci, product: prod }\r\n  })\r\n\r\n  const subtotal = itemsWithDetails.reduce(\r\n    (sum, { product, quantity }) => sum + product.price * quantity,\r\n    0\r\n  )\r\n  const baseFee = Number(process.env.REACT_APP_BASE_FEE) || 3000\r\n  const deliveryFee = Number(process.env.REACT_APP_DELIVERY_FEE) || 5000\r\n  const total = subtotal + baseFee + deliveryFee\r\n\r\n  const isSuccess = txStatus === 'success'\r\n  const statusLabel = isSuccess ? 'APROBADO' : 'FALLIDO'\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-3xl bg-white p-6 sm:p-8 md:p-12 rounded-2xl shadow-xl\">\r\n        <h2 className=\"text-3xl sm:text-4xl font-bold text-center mb-6\">Comprobante de Pago</h2>\r\n\r\n        <p className=\"text-center mb-4 text-lg\">\r\n          Estado: <span className={`font-semibold ${isSuccess ? 'text-green-600' : 'text-red-600'}`}>{statusLabel}</span>\r\n        </p>\r\n\r\n        <p className=\"text-center mb-8 text-sm sm:text-base\">\r\n          ID Transacción:{' '}\r\n          <code className=\"bg-gray-100 px-2 py-1 rounded\">{transactionId}</code>\r\n        </p>\r\n\r\n        <section className=\"mb-8\">\r\n          <h3 className=\"text-xl sm:text-2xl font-semibold mb-3\">Detalle de Artículos</h3>\r\n          <ul className=\"divide-y divide-gray-200\">\r\n            {itemsWithDetails.map(({ product, quantity }) => (\r\n              <li key={product.id} className=\"py-2 flex justify-between text-sm sm:text-base\">\r\n                <span>{product.name} × {quantity}</span>\r\n                <span>{currencyFormatter.format(product.price * quantity)}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n\r\n        <section className=\"border-t pt-6 mb-8 text-sm sm:text-base space-y-2\">\r\n          <div className=\"flex justify-between\"><span>Subtotal</span><span>{currencyFormatter.format(subtotal)}</span></div>\r\n          <div className=\"flex justify-between\"><span>Tarifa base</span><span>{currencyFormatter.format(baseFee)}</span></div>\r\n          <div className=\"flex justify-between\"><span>Envío</span><span>{currencyFormatter.format(deliveryFee)}</span></div>\r\n          <div className=\"flex justify-between font-bold text-lg\"><span>Total</span><span>{currencyFormatter.format(total)}</span></div>\r\n        </section>\r\n\r\n        <section className=\"mb-8 text-sm sm:text-base\">\r\n          <h3 className=\"text-xl sm:text-2xl font-semibold mb-3\">Datos de Envío</h3>\r\n          <address className=\"not-italic space-y-1\">\r\n            <div>{customer.firstName} {customer.lastName}</div>\r\n            <div>\r\n              {customer.address1}\r\n              {customer.address2 ? `, ${customer.address2}` : ''}\r\n            </div>\r\n            <div>{customer.city}, {customer.state} {customer.postalCode}</div>\r\n            <div>{customer.country}</div>\r\n            {customer.phone && <div>Tel: {customer.phone}</div>}\r\n          </address>\r\n        </section>\r\n\r\n        <button\r\n          onClick={onRestart}\r\n          className=\"w-full py-3 sm:py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition text-base sm:text-lg\"\r\n        >\r\n          Finalizar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TransactionResult\r\n","// src/features/checkout/CheckoutFlow.tsx\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport type { RootState } from '../../app/store'\r\nimport Stepper from '../../components/Stepper'\r\nimport ProductDetailModal from '../products/ProductDetailModal'\r\nimport CartSummary from '../cart/CartSummary'\r\nimport DeliveryForm from '../customer/DeliveryForm'\r\nimport PaymentModal from '../../components/PaymentModal'\r\nimport TransactionResult from '../transaction/TransactionResult'\r\nimport { setCheckoutStep } from './checkoutSlice'\r\nimport { clearCart } from '../cart/cartSlice'\r\n\r\nconst labels = ['Carrito', 'Entrega', 'Pago', 'Resultado']\r\n\r\nconst CheckoutFlow: React.FC = () => {\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  const step = useSelector((state: RootState) => state.checkout.step)\r\n  const cartItems = useSelector((state: RootState) => state.cart.items)\r\n  const products = useSelector((state: RootState) => state.products.items)\r\n  const [showDetailFor, setShowDetailFor] = useState<string | null>(null)\r\n  const [mobileOpen, setMobileOpen] = useState(step === 1)\r\n\r\n  useEffect(() => {\r\n    if (!cartItems.length && step > 1) {\r\n      dispatch(setCheckoutStep(1))\r\n      navigate('/', { replace: true })\r\n    }\r\n  }, [cartItems.length, step, dispatch, navigate])\r\n\r\n  useEffect(() => {\r\n    setMobileOpen(step === 1)\r\n  }, [step])\r\n\r\n  if (!cartItems.length) return null\r\n\r\n  const goTo = (n: number) => dispatch(setCheckoutStep(n))\r\n  const handleRestart = () => {\r\n    dispatch(clearCart())\r\n    dispatch(setCheckoutStep(1))\r\n    navigate('/', { replace: true })\r\n  }\r\n\r\n  const splitDesktop = step === 2 || step === 3\r\n\r\n  return (\r\n    <section className={`max-w-7xl mx-auto mt-8 p-4 ${splitDesktop ? 'lg:grid lg:grid-cols-2 gap-8' : ''}`}>\r\n      {/* Left Column: Stepper + Purchase Detail */}\r\n      <div className={splitDesktop ? 'lg:sticky lg:top-6' : ''}>\r\n        <Stepper steps={labels} current={step - 1} />\r\n\r\n        {/* Product thumbnails (only steps 1-3) */}\r\n        {step !== 4 && (\r\n          <>\r\n            <div className=\"space-y-4 mt-6 mb-6\">\r\n              {cartItems.map(({ productId, quantity }) => {\r\n                const product = products.find(p => p.id === productId)!\r\n                return (\r\n                  <div key={productId} className=\"flex items-center gap-4\">\r\n                    <img\r\n                      src={product.imageUrl}\r\n                      alt={product.name}\r\n                      className=\"w-12 h-12 object-cover rounded-lg cursor-pointer\"\r\n                      onClick={() => setShowDetailFor(productId)}\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-semibold text-sm\">{product.name}</h3>\r\n                      <p className=\"text-xs text-gray-600\">\r\n                        {quantity} × {product.price.toLocaleString('es-CO', { style: 'currency', currency: 'COP', minimumFractionDigits: 0 })}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n\r\n            {/* Detail Modal */}\r\n            {showDetailFor && (\r\n              <ProductDetailModal\r\n                product={products.find(p => p.id === showDetailFor)!}\r\n                onClose={() => setShowDetailFor(null)}\r\n              />\r\n            )}\r\n\r\n            {/* Mobile summary accordion */}\r\n            <div className=\"lg:hidden mb-6\">\r\n              {step >= 2 && step <= 3 && (\r\n                <button\r\n                  onClick={() => setMobileOpen(o => !o)}\r\n                  className=\"w-full flex justify-between items-center bg-gray-100 p-3 rounded-lg mb-2\"\r\n                >\r\n                  <span className=\"font-medium\">Resumen de la compra</span>\r\n                  <span className=\"text-xl\">{mobileOpen ? '-' : '+'}</span>\r\n                </button>\r\n              )}\r\n              {(step === 1 || mobileOpen) && <CartSummary onNext={() => goTo(step + 1)} />}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Desktop summary */}\r\n        <div className=\"hidden lg:block\">\r\n          {step >= 1 && step <= 3 && <CartSummary onNext={() => goTo(step + 1)} />}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right Column: Forms or Result */}\r\n      {step === 2 && (\r\n        <div className=\"w-full bg-white p-6 rounded-2xl shadow-xl\">\r\n          <DeliveryForm onBack={() => goTo(1)} onNext={() => goTo(3)} />\r\n        </div>\r\n      )}\r\n      {step === 3 && (\r\n        <div className=\"w-full bg-white p-6 rounded-2xl shadow-xl\">\r\n          <PaymentModal onBack={() => goTo(2)} onNext={() => goTo(4)} />\r\n        </div>\r\n      )}\r\n      {step === 4 && (\r\n        <div className={`${splitDesktop ? '' : 'w-full mt-4'}`}>\r\n          <TransactionResult onRestart={handleRestart} />\r\n        </div>\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CheckoutFlow\r\n"],"names":["formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","_ref","_product$imageUrl","product","onClose","_jsx","className","children","_jsxs","onClick","src","imageUrl","alt","name","loading","description","format","price","stock","steps","current","map","label","i","React","concat","length","currencyFormatter","onNext","accepted","setAccepted","useState","step","useSelector","s","checkout","cartItems","cart","items","products","details","ci","find","p","id","productId","_objectSpread","total","reduce","sum","_ref2","quantity","_ref3","_Fragment","type","checked","onChange","a","disabled","deliverySchema","yup","country","required","firstName","lastName","documentNumber","email","address1","address2","city","state","postalCode","phone","saveInfo","sendSmsOffers","countries","cardNumber","matches","expMonth","expYear","cvc","states","onBack","dispatch","useDispatch","register","handleSubmit","formState","errors","isSubmitting","useForm","resolver","yupResolver","mode","onSubmit","data","setCustomerInfo","placeholder","message","value","c","BASE_FEE","Number","_process$env$REACT_AP","process","DELIVERY_FEE","_process$env$REACT_AP2","schema","idType","idNumber","installments","acceptTerms","oneOf","acceptData","months","Array","from","_","toString","padStart","currentYear","Date","getFullYear","years","slice","LoadingOverlay","viewBox","cx","cy","r","stroke","strokeWidth","fill","d","PaymentModal","handlePayment","usePayment","setLoading","error","setError","async","startTransaction","customerRes","fetch","method","headers","body","JSON","stringify","address","documentType","customer","json","paymentRes","customerId","customerEmail","amountInCents","deliveryInfo","ok","_errBody$details","_errBody$details$erro","errBody","msgs","messages","userMsg","Object","values","flat","join","Error","payment","setTransactionSuccess","transactionId","err","setTransactionFailed","region","addressLine1","addressLine2","itemsWithDetails","prod","filter","Boolean","it","formResolver","control","watch","defaultValues","rawCard","brand","test","num","useEffect","onUnload","e","preventDefault","returnValue","window","addEventListener","removeEventListener","iconClass","ic","finally","visaLogo","mastercardLogo","amexLogo","Controller","render","_raw$match","field","onBlur","display","replace","match","htmlFor","inputMode","autoComplete","currentTarget","m","_ref4","y","title","maxLength","_ref5","_ref6","n","onRestart","status","txStatus","transaction","subtotal","baseFee","deliveryFee","isSuccess","statusLabel","labels","CheckoutFlow","navigate","useNavigate","showDetailFor","setShowDetailFor","mobileOpen","setMobileOpen","setCheckoutStep","goTo","splitDesktop","Stepper","toLocaleString","ProductDetailModal","o","CartSummary","DeliveryForm","TransactionResult","handleRestart","clearCart"],"sourceRoot":""}